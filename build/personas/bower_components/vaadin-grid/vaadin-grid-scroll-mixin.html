<html><head><script>window.Vaadin=window.Vaadin||{},Vaadin.Grid=Vaadin.Grid||{},Vaadin.Grid.ScrollMixin=function(a){return function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'ready',value:function(){var a=this;babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'ready',this).call(this),this.scrollTarget=this.$.table,this.addEventListener('wheel',function(b){a._wheelScrolling=!0,a._debouncerWheelScrolling=Polymer.Debouncer.debounce(a._debouncerWheelScrolling,Polymer.Async.timeOut.after(a._timeouts.WHEEL_SCROLLING),function(){return a._wheelScrolling=!1}),a._onWheel(b)}),this.$.table.addEventListener('scroll',function(b){(a._wheelScrolling||a.$.outerscroller.outerScrolling)&&b.stopImmediatePropagation()},!0),this.$.items.addEventListener('focusin',function(b){var c=b.composedPath().indexOf(a.$.items);a._rowWithFocusedElement=b.composedPath()[c-1]}),this.$.items.addEventListener('focusout',function(){return a._rowWithFocusedElement=void 0})}},{key:'_onWheel',value:function(a){var b=Math.abs,c=this;if(!(a.ctrlKey||this._hasScrolledAncestor(a.target,a.deltaX,a.deltaY))){var d=this.$.table,e=a.deltaY;1===a.deltaMode&&(e*=this._physicalAverage);var f=b(a.deltaX)+b(e);this._canScroll(d,a.deltaX,e)?(a.preventDefault(),d.scrollTop+=e,d.scrollLeft+=a.deltaX,this._scrollHandler(),this._hasResidualMomentum=!0,this._ignoreNewWheel=!0,this._debouncerIgnoreNewWheel=Polymer.Debouncer.debounce(this._debouncerIgnoreNewWheel,Polymer.Async.timeOut.after(this._timeouts.IGNORE_WHEEL),function(){return c._ignoreNewWheel=!1})):this._hasResidualMomentum&&f<=this._previousMomentum||this._ignoreNewWheel?a.preventDefault():f>this._previousMomentum&&(this._hasResidualMomentum=!1),this._previousMomentum=f}}},{key:'_hasScrolledAncestor',value:function(a,b,c){return!!this._canScroll(a,b,c)||('vaadin-grid-cell-content'!==a.localName&&a!==this&&a.parentElement?this._hasScrolledAncestor(a.parentElement,b,c):void 0)}},{key:'_canScroll',value:function(a,b,c){return 0<c&&a.scrollTop<a.scrollHeight-a.offsetHeight||0>c&&0<a.scrollTop||0<b&&a.scrollLeft<a.scrollWidth-a.offsetWidth||0>b&&0<a.scrollLeft}},{key:'_scheduleScrolling',value:function(){var a=this;this._scrollingFrame||(this._scrollingFrame=requestAnimationFrame(function(){return a._toggleAttribute('scrolling',!0,a.$.scroller)})),this._debounceScrolling=Polymer.Debouncer.debounce(this._debounceScrolling,Polymer.Async.timeOut.after(this._timeouts.SCROLLING),function(){cancelAnimationFrame(a._scrollingFrame),delete a._scrollingFrame,a._toggleAttribute('scrolling',!1,a.$.scroller),a.$.outerscroller.outerScrolling||a._reorderRows()}),this._scrollPeriodFrame||(this._scrollPeriodFrame=requestAnimationFrame(function(){return a._toggleAttribute('scroll-period',!0,a.$.scroller)})),this._debounceScrollPeriod=Polymer.Debouncer.debounce(this._debounceScrollPeriod,Polymer.Async.timeOut.after(this._timeouts.SCROLL_PERIOD),function(){cancelAnimationFrame(a._scrollPeriodFrame),delete a._scrollPeriodFrame,a._toggleAttribute('scroll-period',!1,a.$.scroller)})}},{key:'_afterScroll',value:function(){this._translateStationaryElements(),this.hasAttribute('reordering')||this._scheduleScrolling(),(this._wheelScrolling||this.$.outerscroller.passthrough)&&this.$.outerscroller.syncOuterScroller()}},{key:'_reorderRows',value:function(){var a=this.$.items,b=a.querySelectorAll('tr');if(b.length){var c=this._virtualStart+this._vidxOffset,d=this._rowWithFocusedElement||b[0],e=d.index-c,f=Array.from(b).indexOf(d)-e;if(0<f)for(var g=0;g<f;g++)a.appendChild(b[g]);else if(0>f)for(var h=b.length+f;h<b.length;h++)a.insertBefore(b[h],b[0])}}},{key:'_frozenCellsChanged',value:function(){var a=this;this._debouncerCacheElements=Polymer.Debouncer.debounce(this._debouncerCacheElements,Polymer.Async.microTask,function(){Array.from(a.root.querySelectorAll('[part~="cell"]')).forEach(function(a){a.style.transform=''}),a._frozenCells=Array.prototype.slice.call(a.root.querySelectorAll('[frozen]')),a._translateStationaryElements()}),this._updateLastFrozen()}},{key:'_updateLastFrozen',value:function(){if(this._columnTree){var a=this._columnTree[this._columnTree.length-1].slice(0);a.sort(function(c,a){return c._order-a._order});var b=a.reduce(function(a,b,c){return b._lastFrozen=!1,b.frozen&&!b.hidden?c:a},void 0);void 0!==b&&(a[b]._lastFrozen=!0)}}},{key:'_translateStationaryElements',value:function(){this._edge&&!this._scrollbarWidth?(this.$.items.style.transform=this._getTranslate(-this._scrollLeft||0,-this._scrollTop||0),this.$.footer.style.transform=this.$.header.style.transform=this._getTranslate(-this._scrollLeft||0,0)):this.$.footer.style.transform=this.$.header.style.transform=this._getTranslate(0,this._scrollTop);for(var a=this._getTranslate(this._scrollLeft,0),b=0;b<this._frozenCells.length;b++)this._frozenCells[b].style.transform=a}},{key:'_getTranslate',value:function(a,b){return'translate('+a+'px,'+b+'px)'}},{key:'_scrollHeightUpdated',value:function(a){this.$.outersizer.style.top=this.$.fixedsizer.style.top=a+'px'}},{key:'_timeouts',get:function(){return{SCROLL_PERIOD:1e3,WHEEL_SCROLLING:200,SCROLLING:100,IGNORE_WHEEL:500}}}],[{key:'properties',get:function(){return{_frozenCells:{type:Array,value:function(){return[]}},_scrollbarWidth:{type:Number,value:function(){var a=document.createElement('div');a.style.width='100px',a.style.height='100px',a.style.overflow='scroll',a.style.position='absolute',a.style.top='-9999px',document.body.appendChild(a);var b=a.offsetWidth-a.clientWidth;return document.body.removeChild(a),b}},_rowWithFocusedElement:Element}}},{key:'observers',get:function(){return['_scrollHeightUpdated(_estScrollHeight)']}}]),b}(a)};</script></head><body></body></html>