<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="iron-list.html"><script>{var GridScrollerElement=function(a){function b(){return babelHelpers.classCallCheck(this,b),babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}var c=Math.min;return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'_updateScrollerItem',value:function(){}},{key:'_afterScroll',value:function(){}},{key:'_getRowTarget',value:function(){}},{key:'_createScrollerRows',value:function(){}},{key:'_canPopulate',value:function(){}},{key:'scrollToIndex',value:function(a){var d=this;this._warnPrivateAPIAccess('scrollToIndex'),0<a&&(this._pendingScrollToIndex=null),!parseInt(this.$.items.style.borderTopWidth)&&0<a&&(this._pendingScrollToIndex=a),this._scrollingToIndex=!0,a=c(Math.max(a,0),this._effectiveSize-1),this.$.table.scrollTop=a/this._effectiveSize*(this.$.table.scrollHeight-this.$.table.offsetHeight),this._scrollHandler(),this._accessIronListAPI(function(){return d._maxScrollTop})&&this._virtualCount<this._effectiveSize&&this._adjustVirtualIndexOffset(1e6),this._accessIronListAPI(function(){return babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'scrollToIndex',d).call(d,a-d._vidxOffset)}),this._scrollHandler(),this._firstVisibleIndex!==a-this._vidxOffset&&this._accessIronListAPI(function(){return babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'scrollToIndex',d).call(d,a-d._vidxOffset)}),this._vidxOffset+this._lastVisibleIndex===this._effectiveSize-1&&(this.$.table.scrollTop=this.$.table.scrollHeight-this.$.table.offsetHeight,this._scrollHandler()),this._scrollingToIndex=!1}},{key:'_effectiveSizeChanged',value:function(a){var d,e=this,f=0;if(this._iterateItems(function(a,b){if(b===e._firstVisibleIndex){var c=e._physicalItems[a];d=c.index,f=c.getBoundingClientRect().top}}),this.items&&a<this.items.length&&(this._scrollTop=0),!Array.isArray(this.items)){var g=this._edge||this._ie?3e4:1e5;this.items={length:c(a,g)}}this._accessIronListAPI(function(){return babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'_itemsChanged',e).call(e,{path:'items'})}),this._virtualCount=c(this.items.length,a)||0,0===this._scrollTop&&(this._accessIronListAPI(function(){return e._scrollToIndex(c(a-1,d))}),this._iterateItems(function(a){var b=e._physicalItems[a];if(b.index===d&&(e.$.table.scrollTop+=b.getBoundingClientRect().top-f),b.index===e._focusedItemIndex&&e._itemsFocusable&&e.$.items.contains(e.shadowRoot.activeElement)){var c=Array.from(e._itemsFocusable.parentElement.children).indexOf(e._itemsFocusable);b.children[c].focus()}})),this._assignModels()}},{key:'_positionItems',value:function(){var a=this;this._adjustScrollPosition();var b;isNaN(this._physicalTop)&&(b=!0,this._physicalTop=0);var c=this._physicalTop;this._iterateItems(function(b){a._physicalItems[b].style.transform='translateY('+c+'px)',c+=a._physicalSizes[b]}),b&&this._scrollToIndex(0)}},{key:'_increasePoolIfNeeded',value:function(a){var c=this;if((0!==a||!this._scrollingToIndex)&&this._canPopulate())if(0===this._physicalCount)this._updateMetrics(),babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'_increasePoolIfNeeded',this).call(this,25);else{var d=this._physicalCount*this._physicalAverage>=3*this._viewportHeight;d||this._accessIronListAPI(function(){return babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'_increasePoolIfNeeded',c).call(c,a)})}}},{key:'_createPool',value:function(a){var b=this,c=document.createDocumentFragment(),d=this._createScrollerRows(a);d.forEach(function(a){return c.appendChild(a)}),this._getRowTarget().appendChild(c);var e=this.querySelector('[slot]');if(e){var f=e.getAttribute('slot');e.setAttribute('slot','foo-bar'),e.setAttribute('slot',f)}return this._updateHeaderFooterMetrics(),Polymer.RenderStatus.afterNextRender(this,function(){return b.notifyResize()}),d}},{key:'_assignModels',value:function(a){var b=this;this._iterateItems(function(a,c){var d=b._physicalItems[a];b._toggleAttribute('hidden',c>=b._effectiveSize,d),b._updateScrollerItem(d,c+(b._vidxOffset||0))},a)}},{key:'_scrollHandler',value:function(){var a=this,c=this.$.table.scrollTop-this._scrollPosition;this._accessIronListAPI(babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'_scrollHandler',this));var d=this._vidxOffset;this._accessIronListAPI(function(){return a._maxScrollTop})&&this._virtualCount<this._effectiveSize&&this._adjustVirtualIndexOffset(c),this._vidxOffset!==d&&this._update(),this._afterScroll()}},{key:'_adjustVirtualIndexOffset',value:function(a){if(1e4<Math.abs(a)){if(this._noScale)return void(this._noScale=!1);var d=this.$.table.scrollTop/(this.$.table.scrollHeight-this.$.table.offsetHeight),e=d*this._effectiveSize;this._vidxOffset=Math.round(e-d*this._virtualCount)}else{var f=this._vidxOffset||0,g=1e3,h=100;0===this._scrollTop?(this._vidxOffset=0,f!==this._vidxOffset&&babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'scrollToIndex',this).call(this,0)):this.firstVisibleIndex<g&&0<this._vidxOffset&&(this._vidxOffset-=c(this._vidxOffset,h),f!==this._vidxOffset&&babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'scrollToIndex',this).call(this,this.firstVisibleIndex+(f-this._vidxOffset)),this._noScale=!0);var i=this._effectiveSize-this._virtualCount;this._scrollTop>=this._maxScrollTop&&0<this._maxScrollTop?(this._vidxOffset=i,f!==this._vidxOffset&&babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'scrollToIndex',this).call(this,this._virtualCount)):this.firstVisibleIndex>this._virtualCount-g&&this._vidxOffset<i&&(this._vidxOffset+=c(i-this._vidxOffset,h),f!==this._vidxOffset&&babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'scrollToIndex',this).call(this,this.firstVisibleIndex-(this._vidxOffset-f)),this._noScale=!0)}}},{key:'_accessIronListAPI',value:function(a){var b=this;return this._warnPrivateAPIAccessAsyncEnabled=!1,this._debouncerWarnPrivateAPIAccess=Polymer.Debouncer.debounce(this._debouncerWarnPrivateAPIAccess,Polymer.Async.animationFrame,function(){return b._warnPrivateAPIAccessAsyncEnabled=!0}),a.apply(this)}},{key:'_debounceRender',value:function(a,c){var d=this;babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'_debounceRender',this).call(this,function(){return d._accessIronListAPI(a)},c)}},{key:'_warnPrivateAPIAccess',value:function(a){this._warnPrivateAPIAccessAsyncEnabled&&console.warn('Accessing private API ('+a+')!')}},{key:'_render',value:function(){this._accessIronListAPI(babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'_render',this))}},{key:'_createFocusBackfillItem',value:function(){}},{key:'_multiSelectionChanged',value:function(){}},{key:'clearSelection',value:function(){}},{key:'_itemsChanged',value:function(){}},{key:'_manageFocus',value:function(){}},{key:'_removeFocusedItem',value:function(){}},{key:'_scrollToIndex',value:function(a){var b=this;this._accessIronListAPI(function(){return b.scrollToIndex(a)})}},{key:'updateViewportBoundaries',value:function(){this._warnPrivateAPIAccess('updateViewportBoundaries'),babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'updateViewportBoundaries',this).apply(this,arguments)}},{key:'_firstVisibleIndex',get:function(){var a=this;return this._accessIronListAPI(function(){return babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'firstVisibleIndex',a)})}},{key:'_lastVisibleIndex',get:function(){var a=this;return this._accessIronListAPI(function(){return babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'lastVisibleIndex',a)})}},{key:'firstVisibleIndex',get:function(){return this._warnPrivateAPIAccess('firstVisibleIndex'),babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'firstVisibleIndex',this)},set:function(a){this._warnPrivateAPIAccess('firstVisibleIndex'),babelHelpers.set(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'firstVisibleIndex',a,this)}},{key:'lastVisibleIndex',get:function(){return this._warnPrivateAPIAccess('lastVisibleIndex'),babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'lastVisibleIndex',this)},set:function(a){this._warnPrivateAPIAccess('lastVisibleIndex'),babelHelpers.set(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'lastVisibleIndex',a,this)}},{key:'maxPhysicalCount',get:function(){return this._warnPrivateAPIAccess('maxPhysicalCount'),babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'maxPhysicalCount',this)},set:function(a){this._warnPrivateAPIAccess('maxPhysicalCount'),babelHelpers.set(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'maxPhysicalCount',a,this)}},{key:'scrollOffset',get:function(){return this._warnPrivateAPIAccess('scrollOffset'),babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'scrollOffset',this)},set:function(a){this._warnPrivateAPIAccess('scrollOffset'),babelHelpers.set(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'scrollOffset',a,this)}}],[{key:'is',get:function(){return'vaadin-grid-scroller'}},{key:'properties',get:function(){return{size:Number,_vidxOffset:{value:0}}}},{key:'observers',get:function(){return['_effectiveSizeChanged(_effectiveSize)']}}]),b}(window.PolymerIronList);customElements.define(GridScrollerElement.is,GridScrollerElement),window.Vaadin=window.Vaadin||{},window.Vaadin.Grid=window.Vaadin.Grid||{},Vaadin.Grid.ScrollerElement=GridScrollerElement}</script></head><body></body></html>