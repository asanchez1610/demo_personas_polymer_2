<html><head><link rel="import" href="../polymer/polymer-element.html"><script>{var GridTemplatizer=function(a){function b(){babelHelpers.classCallCheck(this,b);var a=babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a._instanceProps={detailsOpened:!0,index:!0,item:!0,selected:!0,expanded:!0,level:!0},a}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,null,[{key:'is',get:function(){return'vaadin-grid-templatizer'}},{key:'properties',get:function(){return{dataHost:Object,template:Object,_templateInstances:{type:Array,value:function(){return[]}},_parentPathValues:{value:function(){return{}}},_grid:Object}}},{key:'observers',get:function(){return['_templateInstancesChanged(_templateInstances.*, _parentPathValues.*)']}}]),babelHelpers.createClass(b,[{key:'createInstance',value:function(){this._ensureTemplatized();var a=new this._TemplateClass({});return this.addInstance(a),a}},{key:'addInstance',value:function(a){var b=this;-1===this._templateInstances.indexOf(a)&&(this._templateInstances.push(a),requestAnimationFrame(function(){return b.notifyPath('_templateInstances.*',b._templateInstances)}))}},{key:'removeInstance',value:function(a){var b=this._templateInstances.indexOf(a);this.splice('_templateInstances',b,1)}},{key:'_ensureTemplatized',value:function(){this._TemplateClass||(this._TemplateClass=Polymer.Templatize.templatize(this.template,this,{instanceProps:this._instanceProps,parentModel:!0,forwardHostProp:function(a,b){this._forwardParentProp(a,b),this._templateInstances&&this._templateInstances.forEach(function(c){return c.notifyPath(a,b)})},notifyInstanceProp:function(a,b,c){var d=this;if('index'!==b&&'item'!==b){var e='__'+b+'__';if(a[e]!==c){a[e]=c;var f=Array.from(this._grid.$.items.children).filter(function(b){return d._grid._itemsEqual(b._item,a.item)})[0];f&&Array.from(f.children).forEach(function(a){a._instance&&(a._instance[e]=c,a._instance.notifyPath(b,c))});var g='_'+b+'InstanceChangedCallback';this._grid&&this._grid[g]&&this._grid[g](a,c)}}}}))}},{key:'_forwardParentProp',value:function(a,b){this._parentPathValues[a]=b,this._templateInstances.forEach(function(c){return c.set(a,b)})}},{key:'_templateInstancesChanged',value:function(a){var b,c,d=this;if('_templateInstances'===a.path)b=0,c=this._templateInstances.length;else if('_templateInstances.splices'===a.path)b=a.value.index,c=a.value.addedCount;else return;Object.keys(this._parentPathValues||{}).forEach(function(a){for(var e=b;e<b+c;e++)d._templateInstances[e].set(a,d._parentPathValues[a])})}}]),b}(Polymer.Element);customElements.define(GridTemplatizer.is,GridTemplatizer),window.Vaadin=window.Vaadin||{},window.Vaadin.Grid=window.Vaadin.Grid||{},Vaadin.Grid.Templatizer=GridTemplatizer}</script></head><body></body></html>