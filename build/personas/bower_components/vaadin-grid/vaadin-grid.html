<html><head><link rel="import" href="../polymer/polymer.html"><link rel="import" href="../vaadin-themable-mixin/vaadin-themable-mixin.html"><link rel="import" href="vaadin-grid-scroller.html"><link rel="import" href="vaadin-grid-dynamic-columns-mixin.html"><link rel="import" href="vaadin-grid-data-provider-mixin.html"><link rel="import" href="vaadin-grid-array-data-provider-mixin.html"><link rel="import" href="vaadin-grid-cell-click-mixin.html"><link rel="import" href="vaadin-grid-active-item-mixin.html"><link rel="import" href="vaadin-grid-scroll-mixin.html"><link rel="import" href="vaadin-grid-selection-mixin.html"><link rel="import" href="vaadin-grid-sort-mixin.html"><link rel="import" href="vaadin-grid-row-details-mixin.html"><link rel="import" href="vaadin-grid-keyboard-navigation-mixin.html"><link rel="import" href="vaadin-grid-a11y-mixin.html"><link rel="import" href="vaadin-grid-filter-mixin.html"><link rel="import" href="vaadin-grid-column-reordering-mixin.html"><link rel="import" href="vaadin-grid-column-resizing-mixin.html"><link rel="import" href="vaadin-grid-column.html"><link rel="import" href="vaadin-grid-outer-scroller.html"><link rel="import" href="vaadin-grid-styles.html"></head><body><dom-module id="vaadin-grid"><template><style include="vaadin-grid-styles"></style><div id="scroller" no-scrollbars$="[[!_scrollbarWidth]]" wheel-scrolling$="[[_wheelScrolling]]" safari$="[[_safari]]" ios$="[[_ios]]" loading$="[[loading]]" edge$="[[_edge]]" firefox$="[[_firefox]]" ie$="[[_ie]]" column-reordering-allowed$="[[columnReorderingAllowed]]"><table id="table" role="grid" aria-multiselectable="true" tabindex="0"><caption id="fixedsizer" class="sizer" part="row"></caption><thead id="header" role="rowgroup"></thead><tbody id="items" role="rowgroup"></tbody><tfoot id="footer" role="rowgroup"></tfoot></table><div part="reorder-ghost"></div><vaadin-grid-outer-scroller id="outerscroller" scroll-target="[[scrollTarget]]" scroll-handler="[[_this]]" no-scrollbars="[[!_scrollbarWidth]]"><div id="outersizer" class="sizer" part="row"></div></vaadin-grid-outer-scroller></div><slot name="nodistribute"></slot><div id="focusexit" tabindex="0"></div></template></dom-module><script>{var GridElement=function(a){function b(){babelHelpers.classCallCheck(this,b);var a=babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.addEventListener('animationend',a._onAnimationEnd),a}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,null,[{key:'is',get:function(){return'vaadin-grid'}},{key:'version',get:function(){return'4.1.1'}},{key:'observers',get:function(){return['_columnTreeChanged(_columnTree, _columnTree.*)']}},{key:'properties',get:function(){return{_this:{type:Object,value:function(){return this}},_safari:{type:Boolean,value:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},_ios:{type:Boolean,value:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},_edge:{type:Boolean,value:'undefined'!==typeof CSS&&CSS.supports('(-ms-ime-align:auto)')},_ie:{type:Boolean,value:navigator.userAgent.match(/Trident/)&&!navigator.userAgent.match(/MSIE/)},_firefox:{type:Boolean,value:-1<navigator.userAgent.toLowerCase().indexOf('firefox')},_android:{type:Boolean,value:/android/i.test(navigator.userAgent)}}}}]),babelHelpers.createClass(b,[{key:'_createScrollerRows',value:function(a){for(var b,c=this,d=[],e=0;e<a;e++)b=document.createElement('tr'),b.setAttribute('part','row'),b.setAttribute('role','row'),this._columnTree&&this._updateRow(b,this._columnTree[this._columnTree.length-1],'body',!1,!0),d.push(b);return this._columnTree&&this._columnTree[this._columnTree.length-1].forEach(function(a){return a.notifyPath('_cells.*',a._cells)}),Polymer.RenderStatus.beforeNextRender(this,function(){c._updateLastColumn(),c._resetKeyboardNavigation()}),d}},{key:'_getRowTarget',value:function(){return this.$.items}},{key:'_createCell',value:function(a){var b=this,c=this._contentIndex=this._contentIndex+1||0,d='vaadin-grid-cell-content-'+c,e=document.createElement('vaadin-grid-cell-content');e.setAttribute('slot',d);var f=document.createElement(a);f.id=d.replace('-content-','-'),f.setAttribute('tabindex','-1'),f.setAttribute('role','td'===a?'gridcell':'columnheader');var g=document.createElement('slot');return g.setAttribute('name',d),f.appendChild(g),f._content=e,e.addEventListener('mousedown',function(){if(window.chrome){var a=function a(){e.contains(b.getRootNode().activeElement)||f.focus(),document.removeEventListener('mouseup',a,!0)};document.addEventListener('mouseup',a,!0)}else setTimeout(function(){e.contains(b.getRootNode().activeElement)||f.focus()})}),f}},{key:'_updateRow',value:function(a,b,c,d,e){var f=this;c=c||'body';var g=document.createDocumentFragment();Array.from(a.children).forEach(function(a){return a._vacant=!0}),a.innerHTML='','outersizer'!==a.id&&'fixedsizer'!==a.id&&(a.hidden=!0),b.forEach(function(h,i){var j;if('body'===c){if(h._cells=h._cells||[],j=h._cells.filter(function(a){return a._vacant})[0],j||(j=f._createCell('td'),h._cells.push(j)),j.setAttribute('part','cell body-cell'),a.appendChild(j),i===b.length-1&&f._rowDetailsTemplate){f._detailsCells=f._detailsCells||[];var k=f._detailsCells.filter(function(a){return a._vacant})[0]||f._createCell('td');-1===f._detailsCells.indexOf(k)&&f._detailsCells.push(k),k._content.parentElement||g.appendChild(k._content),f._configureDetailsCell(k),a.appendChild(k),f._a11ySetRowDetailsCell(a,k),k._vacant=!1}h.notifyPath&&!e&&h.notifyPath('_cells.*',h._cells)}else{var l='header'===c?'th':'td';d||'vaadin-grid-column-group'===h.localName?(j=h['_'+c+'Cell']||f._createCell(l),a.appendChild(j),j._instance&&(a.hidden=!1),h['_'+c+'Cell']=j):(h._emptyCells=h._emptyCells||[],j=h._emptyCells.filter(function(a){return a._vacant})[0]||f._createCell(l),a.appendChild(j),-1===h._emptyCells.indexOf(j)&&h._emptyCells.push(j)),j.setAttribute('part','cell '+c+'-cell')}j._content.parentElement||g.appendChild(j._content),j._vacant=!1,j._column=h}),this.appendChild(g),this._frozenCellsChanged(),this._updateLastColumn()}},{key:'_updateScrollerItem',value:function(a,b){this._preventScrollerRotatingCellFocus(a,b),this._columnTree&&(Array.from(a.children).forEach(function(a){a._instance&&(a._instance.index=b)}),this._toggleAttribute('odd',b%2,a),this._a11yUpdateRowRowindex(a,b),this._getItem(b,a))}},{key:'_columnTreeChanged',value:function(a){var b=this;for(Array.from(this.$.items.children).forEach(function(c){return b._updateRow(c,a[a.length-1])});this.$.header.children.length<a.length;){var c=document.createElement('tr');c.setAttribute('part','row'),c.setAttribute('role','row'),this.$.header.appendChild(c);var d=document.createElement('tr');d.setAttribute('part','row'),d.setAttribute('role','row'),this.$.footer.appendChild(d)}for(;this.$.header.children.length>a.length;)this.$.header.removeChild(this.$.header.firstElementChild),this.$.footer.removeChild(this.$.footer.firstElementChild);Array.from(this.$.header.children).forEach(function(c,d){return b._updateRow(c,a[d],'header',d===a.length-1)}),Array.from(this.$.footer.children).forEach(function(c,d){return b._updateRow(c,a[a.length-1-d],'footer',0===d)}),this._updateRow(this.$.outersizer,a[a.length-1]),this._updateRow(this.$.fixedsizer,a[a.length-1]),this._resizeHandler(),this._frozenCellsChanged(),this._updateLastColumn(),this._resetKeyboardNavigation(),this._a11yUpdateHeaderRows(),this._a11yUpdateFooterRows()}},{key:'_updateItem',value:function(a,b){var c=this;a._item=b,Array.from(a.children).forEach(function(d){d._instance&&(c._itemsEqual(d._instance.item,b)&&d._instance._setPendingProperty('item',{},!1),d._instance.item=b,d._instance.index=a.index)}),this._toggleRowSelected(a,this._isSelected(b)),this._toggleRowDetailsOpened(a,this._rowDetailsTemplate&&this._isDetailsOpened(b)),this._toggleRowExpanded(a,this._isExpanded(b)),this._updateRowLevel(a,this._getIndexLevel(a.index)),this._rowDetailsTemplate&&this._toggleDetailsCell(a,b),this._debouncerUpdateHeights=Polymer.Debouncer.debounce(this._debouncerUpdateHeights,Polymer.Async.timeOut.after(1),function(){c._updateMetrics(),c._positionItems(),c._updateScrollerSize()})}},{key:'_toggleRowDetailsOpened',value:function(a,b){Array.from(a.children).forEach(function(a){a._instance&&(a._instance.__detailsOpened__=b,a._instance.detailsOpened=b)}),this._a11yUpdateRowDetailsOpened(a,b)}},{key:'_toggleRowSelected',value:function(a,b){Array.from(a.children).forEach(function(a){a._instance&&(a._instance.__selected__=b,a._instance.selected=b)}),this._toggleAttribute('selected',b,a),this._a11yUpdateRowSelected(a,b)}},{key:'_updateRowLevel',value:function(a,b){Array.from(a.children).forEach(function(a){a._instance&&(a._instance.__level__=b,a._instance.level=b)}),this._a11yUpdateRowLevel(a,b)}},{key:'_toggleRowExpanded',value:function(a,b){Array.from(a.children).forEach(function(a){a._instance&&(a._instance.__expanded__=b,a._instance.expanded=b)}),this._toggleAttribute('expanded',b,a)}},{key:'_resizeHandler',value:function(){this._updateDetailsCellHeights(),this._accessIronListAPI(babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'_resizeHandler',this),!0),this._updateHeaderFooterMetrics()}},{key:'_updateHeaderFooterMetrics',value:function(){var a=this,b=this.$.header.clientHeight+'px',c=this.$.footer.clientHeight+'px';[this.$.outersizer,this.$.fixedsizer,this.$.items].forEach(function(a){a.style.borderTopWidth=b,a.style.borderBottomWidth=c}),Polymer.RenderStatus.afterNextRender(this.$.header,function(){a._pendingScrollToIndex&&a._scrollToIndex(a._pendingScrollToIndex)})}},{key:'_onAnimationEnd',value:function(a){'vaadin-grid-appear'===a.animationName&&(this._render(),this._updateHeaderFooterMetrics(),a.stopPropagation())}},{key:'_toggleAttribute',value:function(a,b,c){b?c.setAttribute(a,''):c.removeAttribute(a)}},{key:'ready',value:function(){babelHelpers.get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),'ready',this).call(this),null===document.doctype&&console.warn('<vaadin-grid> requires the "standards mode" declaration. Please add <!DOCTYPE html> to the HTML document.')}}]),b}(Vaadin.ThemableMixin(Vaadin.Grid.DataProviderMixin(Vaadin.Grid.ArrayDataProviderMixin(Vaadin.Grid.DynamicColumnsMixin(Vaadin.Grid.CellClickMixin(Vaadin.Grid.ActiveItemMixin(Vaadin.Grid.ScrollMixin(Vaadin.Grid.SelectionMixin(Vaadin.Grid.SortMixin(Vaadin.Grid.RowDetailsMixin(Vaadin.Grid.KeyboardNavigationMixin(Vaadin.Grid.A11yMixin(Vaadin.Grid.FilterMixin(Vaadin.Grid.ColumnReorderingMixin(Vaadin.Grid.ColumnResizingMixin(Vaadin.Grid.ScrollerElement))))))))))))))));customElements.define(GridElement.is,GridElement),window.Vaadin=window.Vaadin||{},Vaadin.GridElement=GridElement}</script></body></html>